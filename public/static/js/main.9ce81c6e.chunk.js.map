{"version":3,"sources":["redux/actions.js","components/Youtube/Youtube.jsx","redux/actionTypes.js","components/Vimeo/Vimeo.jsx","components/Instagram/Instagram.jsx","components/App/App.jsx","components/App/AppRouting.jsx","redux/reducers/youtube.js","redux/reducers/vimeo.js","redux/reducers/instagram.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["axios","require","youtubeApiKey","Youtube","props","loadMoreYoutubeData","window","innerHeight","pageYOffset","Math","max","document","body","offsetHeight","scrollHeight","youtube","fetchingData","fetchYoutubeData","uploadsPlaylistId","undefined","getYoutubeContent","nextPageToken","state","videoIds","getYoutubeUploadsPlaylistId","i","content","this","videoId","snippet","resourceId","clicked","data-id","onClick","playYoutubeVideo","src","thumbnails","high","url","alt","className","YouTube","opts","playerVars","autoplay","origin","location","href","length","arr","formattedDate","Date","publishedAt","toLocaleString","timeZone","key","title","videoOrThumbnail","addEventListener","React","Component","connect","dispatch","a","get","params","part","forUsername","then","response","type","payload","data","items","contentDetails","relatedPlaylists","uploads","catch","error","console","log","finally","pageToken","playlistId","value","Vimeo","loadMoreVimeoData","vimeo","next","fetchVimeoData","getVimeoContent","playVimeoVideo","pictures","sizes","link_with_play_button","video","link","release_time","name","headers","Instagram","App","input","setState","placeholder","onChange","e","updateInput","target","search","AppRouting","website","instagramAccessToken","instagram","authData","token","authCode","URLSearchParams","qs","authInstagramUser","encodeURIComponent","setInstagramAuthData","getInstagramContent","appId","appSecret","redirect_uri","code","form","FormData","set","post","access_token","userId","user_id","accessToken","fields","initialState","combineReducers","action","concat","paging","composedEnhancers","compose","applyMiddleware","thunk","createStore","rootReducer","ReactDOM","render","store","path","getElementById"],"mappings":"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","file":"static/js/main.9ce81c6e.chunk.js","sourcesContent":["import {\r\n\tFETCHING_YOUTUBE_DATA,\r\n\tGET_YOUTUBE_CONTENT,\r\n\tGET_YOUTUBE_UPLOADS_PLAYLIST_ID,\r\n\tPLAY_YOUTUBE_VIDEO,\r\n\r\n\tFETCHING_VIMEO_DATA,\r\n\tGET_VIMEO_CONTENT,\r\n\tPLAY_VIMEO_VIDEO,\r\n\r\n\tSET_INSTAGRAM_AUTH_DATA\r\n } from \"./actionTypes\";\r\n\r\nconst axios = require('axios');\r\nconst youtubeApiKey = \"AIzaSyBkh3wmLBwxvC1DfAepsbRn9heVgGV9ofs\";\r\nconst vimeoAccessToken = \"df1439e70c4a7401f9a1353043b7a57d\";\r\n\r\n\r\n\r\nexport const getYoutubeUploadsPlaylistId = (content) => async(dispatch) => {\r\n\tawait axios.get('https://www.googleapis.com/youtube/v3/channels', {\r\n\t\tparams: {\r\n\t\t\tpart: 'snippet,contentDetails',\r\n\t\t\tforUsername: 'millchannel',\r\n\t\t\tkey: youtubeApiKey\r\n\t\t}\r\n\t})\r\n\t.then(function (response) {\r\n\t\tdispatch({ \r\n\t\t\ttype: GET_YOUTUBE_UPLOADS_PLAYLIST_ID, \r\n\t\t\tpayload: response.data.items[0].contentDetails.relatedPlaylists.uploads\r\n\t\t});\r\n\t})\r\n\t.catch(function (error) {\r\n\t\tconsole.log(error);\r\n\t})\r\n\t.finally(function () {\r\n\t});\r\n};\r\n\r\nexport const getYoutubeContent = (uploadsPlaylistId, pageToken = '') => async(dispatch) => {\r\n\t// dispatch(fetchYoutubeData(true));// if i call this here with dispatch instead of calling it normally in Youtube.jsx, i have 2 requests on the initial page load(it's most likely because this one uses redux-thunk's dispatch)\r\n\r\n\tawait axios.get('https://www.googleapis.com/youtube/v3/playlistItems', {\r\n\t\tparams: {\r\n\t\t\tpart: 'snippet',\r\n\t\t\tplaylistId: uploadsPlaylistId,\r\n\t\t\tkey: youtubeApiKey,\r\n\t\t\tpageToken: pageToken\r\n\t\t}\r\n\t})\r\n\t.then(function (response) {\r\n\t\tdispatch({\r\n\t\t\ttype: GET_YOUTUBE_CONTENT, \r\n\t\t\tpayload: {data: response.data, fetchingData: false}\r\n\t\t});\r\n\t})\r\n\t.catch(function (error) {\r\n\t\tconsole.log(error);\r\n\t})\r\n\t.finally(function () {\r\n\t});\r\n};\r\n\r\n// NOTE: be VERY careful when you use dispatch and when not - if i use dispatch here, getYoutubeContent() gets executed multiple times!!!!\r\nexport const fetchYoutubeData = (value) /*=> dispatch*/ => {\r\n\treturn {\r\n\t\ttype: FETCHING_YOUTUBE_DATA, \r\n\t\tpayload: value\r\n\t}\r\n};\r\n\r\nexport const playYoutubeVideo = (i) => {\r\n\treturn {\r\n\t\ttype: PLAY_YOUTUBE_VIDEO,\r\n\t\tpayload: i\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const fetchVimeoData = (value) /*=> dispatch*/ => {\r\n\treturn {\r\n\t\ttype: FETCHING_VIMEO_DATA,\r\n\t\tpayload: value\r\n\t}\r\n};\r\n\r\nexport const getVimeoContent = (next = '/users/millchannel/videos?page=1&per_page=5') => async(dispatch) => {\r\n\tawait axios.get('https://api.vimeo.com' + next, {\r\n\t\theaders: {'Authorization': \"bearer \"+ vimeoAccessToken}\r\n\t})\r\n\t.then(function (response) {\r\n\t\tdispatch({\r\n\t\t\ttype: GET_VIMEO_CONTENT, \r\n\t\t\tpayload: {data: response.data, fetchingData: false}\r\n\t\t});\r\n\t})\r\n\t.catch(function (error) {\r\n\t\tconsole.log(error);\r\n\t})\r\n\t.finally(function () {\r\n\t});\r\n};\r\n\r\nexport const playVimeoVideo = (i) => {\r\n\treturn {\r\n\t\ttype: PLAY_VIMEO_VIDEO,\r\n\t\tpayload: i\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const setInstagramAuthData = (appId, appSecret, redirect_uri, code) => dispatch => {\r\n\tconst form = new FormData();\r\n\r\n\tform.set('app_id', appId);\r\n\tform.set('app_secret', appSecret);\r\n\tform.set('grant_type', \"authorization_code\");\r\n\tform.set('redirect_uri', redirect_uri);\r\n\tform.set('code', code);\r\n\r\n\taxios.post('https://api.instagram.com/oauth/access_token', form, {\r\n    \theaders: { 'Content-Type': 'multipart/form-data' }\r\n  \t})\r\n\t.then(function (response) {\r\n\t\tdispatch({\r\n\t\t\ttype: SET_INSTAGRAM_AUTH_DATA, \r\n\t\t\tpayload: {token: response.data.access_token, userId: response.data.user_id}\r\n\t\t});\r\n\t})\r\n\t.catch(function (error) {\r\n\t\tconsole.log(error);\r\n\t})\r\n\t.finally(function () {\r\n\t});\r\n};\r\n\r\nexport const getInstagramContent = (accessToken) => async(dispatch) => {\r\n\tawait axios.get('https://graph.instagram.com/me/media',{\r\n\t\tparams: {\r\n\t\t\tfields: 'id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username',\r\n\t\t\taccess_token: accessToken\r\n\t\t}\r\n\t})\r\n\t.then(function (response) {\r\n\t\tconsole.log(response);\r\n\t\t// dispatch({\r\n\t\t// \ttype: GET_INSTAGRAM_CONTENT,\r\n\t\t// \tpayload: {token: response.access_token, userId: response.user_id}\r\n\t\t// });\r\n\t})\r\n\t.catch(function (error) {\r\n\t\tconsole.log(error);\r\n\t})\r\n\t.finally(function () {\r\n\t});\r\n};","import React from 'react';\r\nimport YouTube from 'react-youtube';\r\nimport { connect } from \"react-redux\";\r\nimport { getYoutubeUploadsPlaylistId, getYoutubeContent, fetchYoutubeData, playYoutubeVideo } from \"../../redux/actions.js\";\r\nimport './Youtube.scss';\r\n\r\nclass Youtube extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = { videoIds: \"\" };\r\n\t\tthis.props.getYoutubeUploadsPlaylistId();\r\n\t}\r\n\r\n\tvideoOrThumbnail(i){\r\n\t\tconst content = this.props.youtube.content;\r\n\t\tconst videoId = content[i].snippet.resourceId.videoId;\r\n\r\n\t\tif(content[i].clicked === undefined){\r\n\t\t\treturn (\t\t\t\t\r\n\t\t\t\t<div\r\n\t\t\t\t\tdata-id={videoId}\r\n\t\t\t\t\tonClick={() => this.props.playYoutubeVideo(i)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img src={content[i].snippet.thumbnails.high.url} alt=\"\" />\r\n\t\t\t\t\t<div className=\"play\"></div>\r\n\t\t\t\t</div>\t\t\t\t\r\n\t\t\t);\r\n\t\t}\r\n\t\telse return (\r\n\t\t\t<YouTube\r\n\t\t\t\tvideoId={videoId}\r\n\t\t\t\topts={{\r\n\t\t\t\t\tplayerVars: { // https://developers.google.com/youtube/player_parameters\r\n\t\t\t\t\t\tautoplay: 1,\r\n\t\t\t\t\t\torigin: window.location.href\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tcontent(){\r\n\t\tconst content = this.props.youtube.content;\r\n\t\tif(!content.length) return;\r\n\t\t\r\n\t\tconst arr = [];\r\n\t\tfor(var i = 0; i < content.length; i++){\r\n\t\t\tconst date = new Date(content[i].snippet.publishedAt);\r\n\t\t\tconst formattedDate = date.toLocaleString('en-GB', { timeZone: 'UTC' });\t\t\t\r\n\r\n\t\t\tarr[i] = (\r\n\t\t\t\t<div key={i}>\r\n\t\t\t\t\t<p className=\"ellipsis\">{content[i].snippet.title}</p>\r\n\t\t\t\t\t<div className=\"video-player\">\r\n\t\t\t\t\t\t{this.videoOrThumbnail(i)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>{formattedDate}</p>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tloadMoreYoutubeData = () => {\r\n\t\tif ((window.innerHeight + window.pageYOffset) + 500 >= Math.max(document.body.offsetHeight, document.body.scrollHeight)) {\r\n\t\t\tif(this.props.youtube.fetchingData) return;\r\n\t\t\tthis.props.fetchYoutubeData(true);\r\n\r\n// console.log(\"this.props.youtube.fetchingData\");\r\n\t\t\tconst uploadsPlaylistId = this.props.youtube.uploadsPlaylistId;\r\n\t\t\tif(uploadsPlaylistId !== undefined)\t\t\t\t\t\r\n\t\t\t\tthis.props.getYoutubeContent(uploadsPlaylistId, this.props.youtube.nextPageToken);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender(){\r\n// console.log(this.props);\r\n\t\t\r\n\t\t// get data for the initial page load\r\n\t\tif(this.props.youtube.uploadsPlaylistId !== null && !this.props.youtube.content.length)\r\n\t\t\tthis.props.getYoutubeContent(this.props.youtube.uploadsPlaylistId);\r\n\r\n\t\twindow.addEventListener('scroll', this.loadMoreYoutubeData);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"youtube\">\t\t\t\t\r\n\t\t\t\t{this.content()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tyoutube: state.youtube\r\n\t};\r\n};\r\nexport default connect(mapStateToProps, {\r\n\tgetYoutubeUploadsPlaylistId, \r\n\tgetYoutubeContent, \r\n\tfetchYoutubeData,\r\n\tplayYoutubeVideo\r\n})(Youtube);\r\n","export const FETCHING_YOUTUBE_DATA = \"FETCHING_YOUTUBE_DATA\";\r\nexport const GET_YOUTUBE_UPLOADS_PLAYLIST_ID = \"GET_YOUTUBE_UPLOADS_PLAYLIST_ID\";\r\nexport const GET_YOUTUBE_CONTENT = \"GET_YOUTUBE_CONTENT\";\r\nexport const PLAY_YOUTUBE_VIDEO = \"PLAY_YOUTUBE_VIDEO\";\r\n\r\nexport const FETCHING_VIMEO_DATA = \"FETCHING_VIMEO_DATA\";\r\nexport const GET_VIMEO_CONTENT = \"GET_VIMEO_CONTENT\";\r\nexport const PLAY_VIMEO_VIDEO = \"PLAY_VIMEO_VIDEO\";\r\n\r\nexport const SET_INSTAGRAM_AUTH_DATA = \"SET_INSTAGRAM_AUTH_DATA\";","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { getVimeoContent, fetchVimeoData, playVimeoVideo } from \"../../redux/actions.js\";\r\nimport VimeoPlayer from '@u-wave/react-vimeo';\r\nimport './Vimeo.scss';\r\n\r\nclass Vimeo extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = { videoIds: \"\" };\r\n\r\n\t\t// get data for the initial page load\r\n\t\tthis.props.getVimeoContent();\r\n\t}\r\n\r\n\tvideoOrThumbnail(i){\r\n\t\tconst content = this.props.vimeo.content;\r\n\r\n\t\tif(content[i].clicked === undefined){\r\n\t\t\treturn (\r\n\t\t\t\t<img \r\n\t\t\t\t\tonClick={() => this.props.playVimeoVideo(i)}\r\n\t\t\t\t\tsrc={content[i].pictures.sizes[3].link_with_play_button} alt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse{\r\n\t\t\treturn <VimeoPlayer video={content[i].link} autoplay />;\r\n\t\t}\r\n\t}\r\n\r\n\tcontent(){\r\n\t\tconst content = this.props.vimeo.content;\r\n\t\tif(!content.length) return;\r\n\t\t\r\n\t\tconst arr = [];\r\n\t\tfor(var i = 0; i < content.length; i++){\r\n\t\t\tconst date = new Date(content[i].release_time);\r\n\t\t\tconst formattedDate = date.toLocaleString('en-GB', { timeZone: 'UTC' });\t\t\t\r\n\r\n\t\t\tarr[i] = (\r\n\t\t\t\t<div key={i}>\r\n\t\t\t\t\t<p className=\"ellipsis\">{content[i].name}</p>\r\n\t\t\t\t\t<div className=\"video-player\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t{this.videoOrThumbnail(i)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>{formattedDate}</p>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tloadMoreVimeoData = () => {\r\n\t\tif(this.props.vimeo.next !== null){\r\n\t\t\tif ((window.innerHeight + window.pageYOffset) + 500 >= Math.max(document.body.offsetHeight, document.body.scrollHeight)) {\r\n\t\t\t\tif(this.props.vimeo.fetchingData) return;\r\n\t\t\t\tthis.props.fetchVimeoData(true);\r\n\t\t\t\t\r\n\t\t\t\tthis.props.getVimeoContent(this.props.vimeo.next);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\r\n\trender(){\r\n\t\twindow.addEventListener('scroll', this.loadMoreVimeoData);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"vimeo\">\r\n\t\t\t\t{this.content()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tvimeo: state.vimeo\r\n\t};\r\n};\r\nexport default connect(mapStateToProps, {\r\n\tgetVimeoContent, \r\n\tfetchVimeoData,\r\n\tplayVimeoVideo\r\n})(Vimeo);\r\n","import React from 'react';\r\n\r\nclass Instagram extends React.Component {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div className=\"instagram\">\r\n\t\t\t\tinstagram\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Instagram;\r\n","import React from 'react';\nimport './App.scss';\nimport Youtube from '../Youtube/Youtube.jsx';\nimport Vimeo from '../Vimeo/Vimeo.jsx';\nimport Instagram from '../Instagram/Instagram.jsx';\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {input: \"\"};\n\t}\n\n\tupdateInput(input) {\n\t\tthis.setState({input});\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<input className=\"search\" type=\"text\" placeholder=\"Search\" onChange={e => this.updateInput(e.target.value)} />\n\t\t\t\t<Youtube search={this.state.input} />\n\t\t\t\t<Vimeo search={this.state.input} />\n\t\t\t\t<Instagram search={this.state.input} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\r\nimport App from './App.jsx';\r\nimport { connect } from \"react-redux\";\r\nimport { setInstagramAuthData, getInstagramContent } from \"../../redux/actions.js\";\r\n// import { Redirect } from 'react-router-dom';\r\n\r\nclass AppRouting extends React.Component {\r\n\trender(){\r\nconsole.log(this.props);\r\n\r\n\t\tconst instagramAppId = \"566407840787639\";\r\n\t\tconst instagramAppSecret = \"30f34771ff0f7a16b9390eac9a19436f\";\r\n\t\tconst website = \"https://localhost:8000/\";\r\n\r\n\t\tconst instagramAccessToken = this.props.instagram.authData.token;\r\n\t\tif(instagramAccessToken === null){\r\n\t\t\tconst authCode = new URLSearchParams(this.props.qs).get('code');\r\n\r\n\t\t\tif(authCode === null){\r\n\t\t\t\t// step 1: authenticate the instagram user & receive authorization to access his data\r\n\t\t\t\tconst authInstagramUser = \r\n\t\t\t\t\t\"https://api.instagram.com/oauth/authorize?\" +\r\n\t\t\t\t\t\"app_id=\" + instagramAppId +\r\n\t\t\t\t\t\"&redirect_uri=\" + encodeURIComponent(website) +\r\n\t\t\t\t\t\"&scope=user_profile,user_media\" +\r\n\t\t\t\t\t\"&response_type=code\";\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\twindow.location = authInstagramUser;\r\n\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t// step 2: getting the instagram auth data(token and the user_id)\r\n\t\t\t\tthis.props.setInstagramAuthData(instagramAppId, instagramAppSecret, website, authCode);\r\n\t\t\t\t\r\n\t\t\t\t// display loader until the state is updated w the token so the app can display instagram data\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.props.getInstagramContent(instagramAccessToken);\r\n\r\n\t\t\treturn <App />;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tinstagram: state.instagram\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, {setInstagramAuthData, getInstagramContent})(AppRouting);","import {\r\n\tFETCHING_YOUTUBE_DATA,\r\n\tGET_YOUTUBE_CONTENT,\r\n\tGET_YOUTUBE_UPLOADS_PLAYLIST_ID,\r\n\tPLAY_YOUTUBE_VIDEO\r\n } from \"../actionTypes.js\";\r\n\r\nconst initialState = {\r\n\tfetchingData: false,\r\n\tuploadsPlaylistId: null, \r\n\tcontent: [], \r\n\tnextPageToken: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCHING_YOUTUBE_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchingData: action.payload\r\n\t\t\t};\r\n\t  \t}\r\n\t\tcase GET_YOUTUBE_UPLOADS_PLAYLIST_ID: {\r\n\t\t  \treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuploadsPlaylistId: action.payload\r\n\t\t  \t};\r\n\t\t}\r\n\t\tcase GET_YOUTUBE_CONTENT: {\r\n\t\t  \treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tfetchingData: action.payload.fetchingData,\r\n\t\t\t\tcontent: state.content.concat(action.payload.data.items),\r\n\t\t\t\tnextPageToken: action.payload.data.nextPageToken\r\n\t\t  \t};\r\n\t\t}\r\n\t\tcase PLAY_YOUTUBE_VIDEO: {\r\n\t\t\tconst content = state.content;\r\n\t\t\tcontent[action.payload].clicked = true;\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t  \t...state,\r\n\t\t\t  \tcontent: content\r\n\t\t\t};\r\n\t\t}\t\t\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t  }\r\n}","import {\r\n\tFETCHING_VIMEO_DATA,\r\n\tGET_VIMEO_CONTENT,\r\n\tPLAY_VIMEO_VIDEO\r\n } from \"../actionTypes.js\";\r\n\r\nconst initialState = {\r\n\tfetchingData: false,\r\n\tcontent: [], \r\n\tnext: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCHING_VIMEO_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchingData: action.payload\t\t  \r\n\t\t\t};\r\n\t  \t}\r\n\t\tcase GET_VIMEO_CONTENT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfetchingData: action.payload.fetchingData,\r\n\t\t\t\tcontent: state.content.concat(action.payload.data.data),\r\n\t\t\t\tnext: action.payload.data.paging.next\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase PLAY_VIMEO_VIDEO: {\r\n\t\t\tconst content = state.content;\r\n\t\t\tcontent[action.payload].clicked = true;\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t  \t...state,\r\n\t\t\t  \tcontent: content\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t  }\r\n}","import {\r\n\tSET_INSTAGRAM_AUTH_DATA\r\n } from \"../actionTypes.js\";\r\n\r\nconst initialState = {\r\n\tauthData: {\r\n\t\ttoken: null,\r\n\t\tuserId: null\r\n\t}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_INSTAGRAM_AUTH_DATA: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tauthData: {\r\n\t\t\t\t\ttoken: action.payload.token,\r\n\t\t\t\t\tuserId: action.payload.userId\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t  \t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t  }\r\n}","import { combineReducers } from \"redux\";\r\nimport youtube from \"./youtube\";\r\nimport vimeo from \"./vimeo\";\r\nimport instagram from \"./instagram\";\r\n\r\nexport default combineReducers({ youtube, vimeo, instagram });\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composedEnhancers = compose(\r\n\tapplyMiddleware(thunk)\r\n\t// ,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n\r\nexport default createStore(\r\n\trootReducer,\r\n\t/* preloadedState, */ undefined,\r\n\tcomposedEnhancers\r\n);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppRouting from './components/App/AppRouting.jsx';\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport './index.scss';\n// import * as serviceWorker from './serviceWorker';\nimport { Redirect, BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<Route \n\t\t\t\t\tpath=\"/\"\n\t\t\t\t\trender={(props) => <AppRouting qs={props.location.search} />}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t</Router>\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n/*\nIf you want your app to work offline and load faster, you can change\nunregister() to register() below. Note this comes with some pitfalls.\nLearn more about service workers: https://bit.ly/CRA-PWA\n*/\n// serviceWorker.unregister();"],"sourceRoot":""}